import{a as Q,b as X}from"./chunk-33L2JHNO.js";import{a as Y,h as q,i as K}from"./chunk-XFXR27FU.js";import"./chunk-BYVFIUG7.js";import{$ as m,Ac as j,Bc as D,C as y,Dc as R,Fa as f,Gc as k,Hc as A,Lc as G,Oa as n,Oc as V,Pa as C,Pc as J,Qa as d,Qc as U,Sa as u,Ta as g,Ua as v,Xa as F,Ya as b,Za as T,da as h,ha as E,hc as H,ia as S,ib as w,jc as O,kc as N,la as M,lb as I,mb as x,nc as z,oa as p,qc as W,vb as L,xa as t,xb as _,xc as B,ya as e,zc as P}from"./chunk-LARWJHAD.js";var ee=a=>["/events",a];function te(a,o){if(a&1&&(t(0,"mat-option",9),n(1),e()),a&2){let i=o.$implicit;p("value",i),m(),C(i)}}function ne(a,o){if(a&1&&(t(0,"mat-card",10)(1,"mat-card-title"),n(2),e(),t(3,"mat-card-content")(4,"p")(5,"strong"),n(6,"Juego:"),e(),n(7),e(),t(8,"p")(9,"strong"),n(10,"Fecha:"),e(),n(11),b(12,"date"),e(),t(13,"p")(14,"strong"),n(15,"Tipo:"),e(),n(16),e(),t(17,"p")(18,"strong"),n(19,"Ubicaci\xF3n:"),e(),n(20),e()(),t(21,"mat-card-actions")(22,"button",11),n(23,"Ver detalles"),e()()()),a&2){let i=o.$implicit;m(2),C(i.name),m(5),d(" ",i.game_name,""),m(4),d(" ",T(12,6,i.date,"dd/MM/yy"),""),m(5),d(" ",i.event_type,""),m(4),d(" ",i.address,""),m(2),p("routerLink",F(9,ee,i.id))}}var c=class a{constructor(o){this.eventService=o}events=[];filteredEvents=[];eventTypes=X;filters={game_name:"",event_type:"",date:"",organizer:""};ngOnInit(){this.loadEvents()}loadEvents(){this.eventService.getEvents().subscribe({next:o=>{this.events=o,this.filteredEvents=o},error:o=>{console.error("Error al cargar eventos:",o)}})}applyFilters(){this.filteredEvents=this.events.filter(o=>{let i=this.filters.game_name?o.game_name.toLowerCase().includes(this.filters.game_name.toLowerCase()):!0,r=this.filters.event_type?o.event_type.toLowerCase().includes(this.filters.event_type.toLowerCase()):!0,s=this.filters.organizer?o.created_by&&o.created_by.toLowerCase().includes(this.filters.organizer.toLowerCase()):!0;return i&&r})}static \u0275fac=function(i){return new(i||a)(h(Q))};static \u0275cmp=E({type:a,selectors:[["app-home"]],decls:24,vars:5,consts:[[1,"filters"],["appearance","fill"],["matInput","","placeholder","Buscar por juego",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre de usuario",3,"ngModelChange","ngModel"],[1,"event-list"],["class","event-card",4,"ngFor","ngForOf"],[3,"value"],[1,"event-card"],["mat-button","","type","button",3,"routerLink"]],template:function(i,r){i&1&&(t(0,"h1"),n(1,"Bienvenido a Tabletop Manager"),e(),t(2,"p"),n(3,"Gestiona tus mazos, eventos y partidas de Arkham Horror LCG de forma sencilla."),e(),t(4,"h2"),n(5,"Eventos disponibles"),e(),t(6,"div",0)(7,"mat-form-field",1)(8,"mat-label"),n(9,"Nombre del juego"),e(),t(10,"input",2),v("ngModelChange",function(l){return g(r.filters.game_name,l)||(r.filters.game_name=l),l}),f("input",function(){return r.applyFilters()}),e()(),t(11,"mat-form-field",1)(12,"mat-label"),n(13,"Tipo de evento"),e(),t(14,"mat-select",3),v("ngModelChange",function(l){return g(r.filters.event_type,l)||(r.filters.event_type=l),l}),f("selectionChange",function(){return r.applyFilters()}),t(15,"mat-option",4),n(16,"Todos"),e(),M(17,te,2,2,"mat-option",5),e()(),t(18,"mat-form-field")(19,"mat-label"),n(20,"Organizador"),e(),t(21,"input",6),v("ngModelChange",function(l){return g(r.filters.organizer,l)||(r.filters.organizer=l),l}),f("ngModelChange",function(){return r.applyFilters()}),e()(),t(22,"div",7),M(23,ne,24,11,"mat-card",8),e()()),i&2&&(m(10),u("ngModel",r.filters.game_name),m(4),u("ngModel",r.filters.event_type),m(3),p("ngForOf",r.eventTypes),m(4),u("ngModel",r.filters.organizer),m(2),p("ngForOf",r.filteredEvents))},dependencies:[x,w,I,k,P,R,D,j,V,G,A,U,J,K,q,Y,B,N,z,W,_,L,O,H],styles:[".event-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]})};var ie=[{path:"",component:c}],Z=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=S({type:a});static \u0275inj=y({imports:[c,_.forChild(ie)]})};export{Z as HomeModule};
